{% extends 'base.html' %}
{% load static %}
{% load crispy_forms_tags %}

{% block content %}
<!-- Hero Section with Background Image -->
<div class="relative min-h-screen flex items-center justify-center lg:mx-16 md:px-8">
  <!-- Background Image with Overlay -->
  <div class="absolute inset-0 mx-auto overflow-hidden">
    <img src="{% static 'images/blackandwhite.jpeg' %}"
         alt="Background"
         class="w-full h-full object-cover">
    <div class="absolute inset-0 bg-black/50"></div>
  </div>

  <!-- Form Content -->
  <div class="relative z-10 w-full max-w-2xl px-4 fade-in-up">
    <div class="text-center mb-12">
      <h1 class="text-5xl md:text-7xl font-extrabold text-white mb-6 drop-shadow-2xl">
        Big Al's Athletics
      </h1>
      <p class="text-xl md:text-2xl text-white/90 font-light drop-shadow-lg">
        Premium athletic wear for champions
      </p>
    </div>

    <div class="bg-gradient-to-br from-white/15 to-white/5 backdrop-blur-2xl border border-white/30 shadow-[0_8px_32px_0_rgba(0,0,0,0.37)] rounded-3xl overflow-hidden">
      <div class="p-6 sm:p-8 md:p-10">
        <form method="post" hx-post="{% url 'order:index' %}" hx-target="#products-container" hx-swap="innerHTML" novalidate>
          {% csrf_token %}
          <div class="space-y-3">
            <label for="id_collection" class="block text-sm font-bold text-white/95 mb-3 uppercase tracking-widest letter-spacing-2">
              Select Your Order
            </label>
            <div class="relative w-full mb-4">
              <select id="id_collection"
                      name="collection"
                      required
                      class="w-full px-6 py-4 pr-12 text-lg bg-white/98 backdrop-blur-sm border-0 rounded-2xl focus:outline-none focus:ring-4 focus:ring-white/60 transition-all duration-300 shadow-xl hover:shadow-2xl font-semibold text-gray-900 cursor-pointer appearance-none">
                <option value="" selected disabled>Choose your order...</option>
                {% for choice in form.collection.field.queryset %}
                  <option value="{{ choice.id }}">{{ choice.name }}</option>
                {% endfor %}
              </select>
              <div class="pointer-events-none absolute inset-y-0 right-4 flex items-center">
                <svg class="w-5 h-5 text-gray-500" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
                </svg>
              </div>
            </div>
          </div>

          <button type="submit"
                  class="group w-full bg-white hover:bg-gradient-to-r hover:from-white hover:to-gray-50 text-gray-900 text-lg font-black py-6 rounded-2xl shadow-[0_10px_40px_0_rgba(0,0,0,0.25)] hover:shadow-[0_15px_50px_0_rgba(0,0,0,0.35)] transform hover:scale-[1.03] active:scale-[0.97] transition-all duration-300 uppercase tracking-widest">
            Continue
            <svg class="inline-block w-5 h-5 ml-3 transform group-hover:translate-x-1 transition-transform duration-300" fill="none" stroke="currentColor" viewBox="0 0 24 24" stroke-width="3">
              <path stroke-linecap="round" stroke-linejoin="round" d="M9 5l7 7-7 7"/>
            </svg>
          </button>
        </form>
      </div>
    </div>
  </div>
</div>

<!-- Products Section -->
<div id="products-section" class="bg-stone-200 py-16">
  <div class="container mx-auto px-4">
    <div class="mb-12">
      <h2 class="text-3xl md:text-4xl font-bold text-stone-600 text-center mb-4">Products</h2>
      <div class="w-24 h-1 bg-stone-600 mx-auto rounded-full"></div>
    </div>

    <div id="products-container">
      {% if collection %}
        {% include 'order/partials/_products.html' %}
      {% else %}
        <div class="text-center py-12">
          <p class="text-gray-500 text-lg">Please select an order to view products</p>
        </div>
      {% endif %}
    </div>
  </div>
</div>

<!-- Footer -->
<footer class="bg-gradient-to-r from-stone-600 to-stone-700 text-stone-200 py-8 mt-12">
  <div class="container mx-auto px-4 flex flex-col md:flex-row items-center justify-between space-y-4 md:space-y-0">
    <div class="text-center md:text-left">
      <h3 class="text-lg font-bold text-white">Big Al's Athletics</h3>
      <p class="text-sm text-stone-400 mt-1">&copy; {{ now|date:"Y" }} Big Al's Athletics. All rights reserved.</p>
    </div>
    <div class="flex space-x-6 justify-center md:justify-end">
      <a href="/" class="text-stone-200 hover:text-white transition">Home</a>
      <a href="{% url 'order:about' %}" class="text-stone-200 hover:text-white transition">About</a>
      <a href="{% url 'order:contact' %}" class="text-stone-200 hover:text-white transition">Contact</a>
    </div>
  </div>
</footer>

<script src="{% static 'js/scroll.js' %}" nonce="{{ request.csp_nonce }}"></script>

{% endblock %}